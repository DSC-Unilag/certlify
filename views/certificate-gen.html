<!doctype html>
<html lang="en-US">

<head>
    <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-K1X9384BHD"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-K1X9384BHD');
</script>
    <meta charset='utf-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <title>Create Certificate</title>
    <meta name="msapplication-tap-highlight" , content="none" />
    <link rel="manifest" href="/manifest.json">
    <meta name="description" content="Generate certificates.">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="application-name" content="Certlify">
    <meta name="apple-mobile-web-app-title" content="Certlify">
    <meta name="theme-color" content="#34495E">
    <meta name="msapplication-navbutton-color" content="#FF9800">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="msapplication-starturl" content="index.html">
    <link rel="icon" sizes="512x512" href="/imgs/badge.svg">
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <link href="https://fonts.googleapis.com/css2?family=Nunito&display=swap" rel="stylesheet">
    <link rel='stylesheet' type='text/css' media='screen' href='/src/css/certificate-gen.css'>
    <link rel='stylesheet' type='text/css' media='screen' href='/src/css/manage-func.css'>
    <link rel='stylesheet' type='text/css' media='screen' href='/src/css/animations.css'>
    <link rel='stylesheet' type='text/css' media='screen' href='/src/css/loader.css' />
    <link rel='stylesheet' type='text/css' media='screen' href='/src/css/share.css' />
    
</head>

<body>
    <header>
        <section class="logo-section">
            <span class="code-logo"><img class="cropped-logo" src="/imgs/Group 298-edit.png" alt="logo icon"></span>
            <div class="img-line"></div>
        </section>

        <span id="profile-image"><img id="user-image" src="/imgs/user.svg" alt="user icon" /></span>

        <input type="checkbox" id="toggle-butt" />

        <label for="toggle-butt" class="bread-crumbs">
            <div class="bread-crumb"></div>
            <div class="bread-crumb"></div>
            <div class="bread-crumb"></div>
        </label>

        <nav class="section-links">
            <ul class="home-links">
                <li><a href="/">Home</a>
                </li>
                <li class="gen-cert">
                    <a href="/dashboard">Issued Certificates</a>
                </li>
                <li>
                    <a href="/logout">Logout</a>
                </li>
            </ul>
        </nav>

        <section class="volunteer-header">
            <h1 id="certificate-name"></h1>

        </section>
    </header>

    <main id="main-func" class="main-func-manage">
        <section id="cert-name" class="sign-page-section">
            <h1 class="first-text">Enter the certificate name</h1>
            <p class="second-text">Hi there! What would you want to name this certificate when issued?</p>

            <form class="form-input" onsubmit="return false">
                <input type="text" id="certificate" placeholder="e.g Certificate of Volunteer" name="certificate"
                    autocomplete="current-password" minlength=4 required>

                <p id="password-message" class="message"></p>
                <button type="button" onclick="first()" class="sign-log">
                    Submit
                </button>
            </form>
        </section>

        <section id="edit-cert" class="edit-cert-section hide">
            <a href="/createcertificate" class="close-button">&#x2716;</a>
            <article class="main-upload">
                <div id="upload-div"style="flex-direction:column">
                    <label for="file" class="upload-style">CHOOSE CERTIFICATE TEMPLATE IMAGE LESS THAN 2.5MB IN SIZE</label>
                    <input id="file" type="file" accept="image/*" onclick="cert_error.style.display='none'" onchange="loadFile(event)">
                    <p id="cert-error"style="color:red;display:none;"></p>
                </div>
                <div id="container">
                    <div id="canvas" class="apply-font"></div>
                </div>
            </article>
        </section>
        <h3 id="prompt"></h3>
        <section id="value-input" class="value-input-section hide">
            <section class="input-details">
                <section>
                    <label for="full-name">Full name:</label>
                    <input class="apply-font" id="preview-test" type="text" autocomplete="name" name="fname"
                        minlength="3" maxlength="40" required placeholder="Enter your name" oninput="mark()" />
                </section>

                <section class="fonts-section">
                    <label for="font-picker">Font family:</label>
                    <div id="font-picker" class="font-picker-dropdown">
                    </div>

                    <label for="font-size">Font-size:</label>

                    <section class="climb-section">
                        <button id="minus" onclick="decreaseValue()">&#45;</button>
                        <input type="number" id="number" name="font-size" value="16" min="16" max="56" required>
                        <button id="plus" onclick="increaseValue()">&#43;</button>
                    </section>

                    <label for="color-code">Color:</label>
                    <input type="color" id="color" onchange="boundary.color=this.value;mark()">
                </section>
            </section>

            <hr />

            <section class="border-section">
                <a id="left_border">Left border</a>
                <a id="right_border">Right border</a>
                <a id="bottom">Text base</a>
                <a id="preview">Preview</a>
            </section>

            <input id="done" type="submit" value="Submit">
        </section>

        <section id="add-emails" class="edit-cert-section hide">
            <article class="main-upload">
                <section class="csv-tut-section">
                    <h2>CSV format Guide</h2>
                    <h3>There are two formats from which you can structure your CSV file to avoid any error.</h3>
                    <br/>
                    <br/>
                    <br/>
                    <h3>Email only format</h3>
                    <p>Using this format, the recepient would have the opportunity to specify what Name they want printed on thier certificate</p>
                    <p>If you have no experience with CSV files, we suggest you use a spreadsheet package and save as a CSV as explained below.</p>
                    <p>1. Start by entering the your title header on the first row and column as "email" shown below.</p>
                    <p>2. Next, enter all emails of those eligible for this certificate separating each on a new row.</p>
                    <img class="tut-img" src="/imgs/tutorial.png" alt="CSV Format"/>
                    <br/>
                    <br/>
                    <br/>
                    <h3>Email and Name format</h3>
                    <p>This format should be used when the issuer already has the names assigned to the emails. The recipients of the certificates would be constrained to the name specified by the issuer.</p>
                    <p>1. Specify the emails as dictated in the first format's guide</p>
                    <p>2. Next, enter all the names of those eligible for this certificate against their email address</p>
                    <img class="tut-img" src="/imgs/tutorial2.png" alt="CSV Format"/>
                </section>
                <div id="upload-div">
                    <form id="email-form" class="form" method="POST" enctype="multipart/form-data"
                        target="hidden-iframe">
                        <label for="csv-upload">Upload CSV file with the names of those eligible for the
                            certificate</label>
                        <input id="csv-upload" type="file" name="FileUpload" accept=".csv" class="custom-file">
                        <button class="icon">Submit</button>
                    </form>
                    
                </div>
            </article>
            <p id="error" style="color:red;"></p>
            <p>You may skip, this process now and add later on your dashboard. Note that only user emails you have
                uploaded would be eligile to generate</p>
            <button class="icon" type="button" onclick="next()">Skip</button>
        </section>

        <section id="cert-link" class="sign-page-section hide">
            <h1 class="first-text">Generated certificate link</h1>
            <p class="second-text">Hi there! you can share the link below to those eligible for the certificate</p>

            <form id="email-input" class="form-input" onsubmit="return false">
                <input type="text" id="link" name="certificate" autocomplete="current-password" minlength=4
                    readonly=true required>

                <p id="password-message" class="message"></p>
                <button class="icon" onclick="CopyToClipBoard()"><i class="copy"></i><span
                        id="text">Copy</span></button>
                <button class="icon" onclick="OpenWrapper()"><i class="share"></i><span id="text">Share</span></button>
                <div class="share-container">
                    <div class="share-wrapper">
                        <a href="https://www.facebook.com/sharer/sharer.php?u=http%3A//certlify.com/" class="text">
                            <span class="icon-svg"><img src="/imgs/share-icons/facebook.svg"/></span>
                            Facebook
                        </a>
                        <a href="https://twitter.com/intent/tweet?text=Link%20to%20your%20certificates&url=http://certlify.com/" class="text sm twitter">
                            <span class="icon-svg"><img src="/imgs/share-icons/twitter.svg"/></span>
                            Twitter
                        </a>
                        <a href="whatsapp://send?text=The text to share!&url=http://certlify.com/" class="text">
                            <span class="icon-svg"><img src="/imgs/share-icons/whatsapp.svg"/></span>
                            WhatsApp
                        </a>
                    </div>
                </div>
            </form>
            <a id="goto" href="/dashboard">Go to dashboard</a>
        </section>
    </main>

    <footer>
        <div class="icons-author hide">Icons made by <a href="https://www.flaticon.com/authors/pixel-perfect" title="Pixel perfect">Pixel perfect</a> from <a href="https://www.flaticon.com/" title="Flaticon">www.flaticon.com</a></div>
        <iframe name="hidden-iframe" style="display: none;"onload="parse()"></iframe>
    </footer>

    <span class="loader">
        <div class="container-for-loader">
            <div class="large-circle">
            </div>
            <div class="inner-circle"></div>
            <div class="inner-circle"></div>
            <div class="inner-circle"></div>
            <div class="inner-circle"></div>
        </div>
    </span>

    <script src='./src/js/FontSizer.js'></script>
    <script src='./src/js/canvas.js'></script>
    <script>
       function parse(){
            let response = document.getElementsByName("hidden-iframe")[0].contentWindow.document
                .getElementsByTagName("pre")[0].innerText
            response = JSON.parse(response);
            if (response.status) {
                next();
            } else {
                document.getElementById("error").innerHTML = "Please check the format of your csv file"
            }
        }
    </script>
    <script>
        var first = () => {
            let title = document.getElementById("certificate").value
            if (title.length >= 4) {
                data.name = title;
                document.getElementById("cert-name").classList.toggle("hide");
                document.getElementById("edit-cert").classList.toggle("hide");
                document.getElementById("certificate-name").innerHTML = title;
            }
        }
        var next = () => {
            document.getElementById("add-emails").classList.toggle("hide");
            document.getElementById("cert-link").classList.toggle("hide");
        }
    </script>
    <script src='/src/js/FontPicker.js'></script>
    <script>
        /**
         * Font picker object to render to the DOM
         */
        const fontPicker = new FontPicker(
            "AIzaSyC1c-jtOCKTiFeVfSU6SVT4J3iWIkQ4RYo", // Google API key
            "Open Sans", // Default font
            {
                limit: 40
            }, // Additional options
        );
    </script>
    <script src='/src/js/main.js'></script>

</body>

</html>
